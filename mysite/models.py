from django.db import models
import random, html


class Spinner(models.Model):

    def spinner(self, artikel):
        text = str(artikel)

        list_replace = ["'",'“',"-","_","(",")","{","}","[","]",'<','>',"/","\\",'%','@','²','³','¼','½','¾',":"]
        found = []

        a = ['&#x00027;','&#39;','&#x00060;','&#96;','&#x000B4;','&#180;','&#x02018;','&#8216;','&#x02019;','&#8217;','&#x02035;','&#8245;','&#x02032;','&#8242;']
        b = ['&#x00022;','&#34;','&#x002DD;','&#733;','&#x0201C;','&#8220;','&#x0201D;','&#8221;','&#x02033;','&#8243;']
        c = ['&#x02010;','&#8208;','&#x02013;','&#8211;','&#x02014;','&#8212;','&#x02043;','&#8259;']
        d = ['&#x0005F;','&#95;','&#x00332;','&#818;']
        e = ['&#x00028;','&#40;','&#x02772;','&#10098;','&#x02985;','&#10629;']
        f = ['&#x00029;','&#41;','&#x02773;','&#10099;','&#x02986;','&#10630;']
        g = ['&#x0007B;','&#123;']
        h = ['&#x0007D;','&#125;']
        j = ['&#x0005B;','&#91;','&#x027E6;','&#10214;']
        k = ['&#x0005D;','&#93;','&#x027E7;','&#10215;']
        l = ['&#x0003C;','&#60;','&#x02039;','&#8249;','&#x0227A;','&#8826;']
        m = ['&#x0003E;','&#62;','&#x0203A;','&#8250;','&#x0227B;','&#8827;']
        n = ['&#x0002F;','&#47;','&#x02044;','&#8260;']
        o = ['&#x0005C;','&#92;','&#x02216;','&#8726;']
        p = ['&#x00025;','&#37;']
        q = ['&#x00040;','&#64;']
        r = ['&#x000B2;','&#178;']
        s = ['&#x000B3;','&#179;']
        t = ['&#188;','&#x000BC;']
        u = ['&#189;','&#x000BD;']
        v = ['&#190;','&#x000BE;']
        w = ['&#x0003A;','&#58;','&#x02236;','&#8758;']
            
        html_entity = [a,b,c,d,e,f,g,h,j,k,l,m,n,o,p,q,r,s,t,u,v,w]

        for i in range(0, len(list_replace)):
            if text.find(list_replace[i]) != -1:
                found.append(list_replace[i])
                text = text.replace(list_replace[i],random.choice(html_entity[i]))
                text = html.unescape(text)
        return text